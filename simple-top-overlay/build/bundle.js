var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e){t.appendChild(e)}function r(t,e,n){t.insertBefore(e,n||null)}function l(t){t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function c(t){return document.createTextNode(t)}function d(){return c(" ")}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function f(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function h(t,e,n,s){t.style.setProperty(e,n,s?"important":"")}let m;function g(t){m=t}function v(t){(function(){if(!m)throw new Error("Function called outside component initialization");return m})().$$.on_mount.push(t)}const b=[],$=[],V=[],E=[],x=Promise.resolve();let y=!1;function P(t){V.push(t)}let w=!1;const S=new Set;function k(){if(!w){w=!0;do{for(let t=0;t<b.length;t+=1){const e=b[t];g(e),A(e.$$)}for(g(null),b.length=0;$.length;)$.pop()();for(let t=0;t<V.length;t+=1){const e=V[t];S.has(e)||(S.add(e),e())}V.length=0}while(b.length);for(;E.length;)E.pop()();y=!1,w=!1,S.clear()}}function A(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(P)}}const j=new Set;let N;function _(t,e){t&&t.i&&(j.delete(t),t.i(e))}function q(t,e,n,s){if(t&&t.o){if(j.has(t))return;j.add(t),N.c.push((()=>{j.delete(t),s&&(n&&t.d(1),s())})),t.o(e)}}function C(t){t&&t.c()}function F(t,n,i){const{fragment:a,on_mount:r,on_destroy:l,after_update:u}=t.$$;a&&a.m(n,i),P((()=>{const n=r.map(e).filter(o);l?l.push(...n):s(n),t.$$.on_mount=[]})),u.forEach(P)}function T(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function I(t,e){-1===t.$$.dirty[0]&&(b.push(t),y||(y=!0,x.then(k)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function O(e,o,i,a,r,u,c=[-1]){const d=m;g(e);const p=o.props||{},f=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:r,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:c,skip_bound:!1};let h=!1;if(f.ctx=i?i(e,p,((t,n,...s)=>{const o=s.length?s[0]:n;return f.ctx&&r(f.ctx[t],f.ctx[t]=o)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](o),h&&I(e,t)),n})):[],f.update(),h=!0,s(f.before_update),f.fragment=!!a&&a(f.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);f.fragment&&f.fragment.l(t),t.forEach(l)}else f.fragment&&f.fragment.c();o.intro&&_(e.$$.fragment),F(e,o.target,o.anchor),k()}g(d)}class R{$destroy(){T(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var D=function(){return(D=Object.assign||function(t){for(var e,n=1,s=arguments.length;n<s;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},W=function(){function t(t,e,n){var s=this;this.target=t,this.endVal=e,this.options=n,this.version="2.0.7",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:""},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.count=function(t){s.startTime||(s.startTime=t);var e=t-s.startTime;s.remaining=s.duration-e,s.useEasing?s.countDown?s.frameVal=s.startVal-s.easingFn(e,0,s.startVal-s.endVal,s.duration):s.frameVal=s.easingFn(e,s.startVal,s.endVal-s.startVal,s.duration):s.countDown?s.frameVal=s.startVal-(s.startVal-s.endVal)*(e/s.duration):s.frameVal=s.startVal+(s.endVal-s.startVal)*(e/s.duration),s.countDown?s.frameVal=s.frameVal<s.endVal?s.endVal:s.frameVal:s.frameVal=s.frameVal>s.endVal?s.endVal:s.frameVal,s.frameVal=Number(s.frameVal.toFixed(s.options.decimalPlaces)),s.printValue(s.frameVal),e<s.duration?s.rAF=requestAnimationFrame(s.count):null!==s.finalEndVal?s.update(s.finalEndVal):s.callback&&s.callback()},this.formatNumber=function(t){var e,n,o,i,a,r=t<0?"-":"";if(e=Math.abs(t).toFixed(s.options.decimalPlaces),o=(n=(e+="").split("."))[0],i=n.length>1?s.options.decimal+n[1]:"",s.options.useGrouping){a="";for(var l=0,u=o.length;l<u;++l)0!==l&&l%3==0&&(a=s.options.separator+a),a=o[u-l-1]+a;o=a}return s.options.numerals&&s.options.numerals.length&&(o=o.replace(/[0-9]/g,(function(t){return s.options.numerals[+t]})),i=i.replace(/[0-9]/g,(function(t){return s.options.numerals[+t]}))),r+s.options.prefix+o+i+s.options.suffix},this.easeOutExpo=function(t,e,n,s){return n*(1-Math.pow(2,-10*t/s))*1024/1023+e},this.options=D(D({},this.defaults),n),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(e),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,""===this.options.separator&&(this.options.useGrouping=!1),this.el="string"==typeof t?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined"}return t.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var e=t-this.startVal;if(Math.abs(e)>this.options.smartEasingThreshold){this.finalEndVal=t;var n=this.countDown?1:-1;this.endVal=t+n*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;this.finalEndVal?this.useEasing=!1:this.useEasing=this.options.useEasing},t.prototype.start=function(t){this.error||(this.callback=t,this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},t.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},t.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},t.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal||this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},t.prototype.printValue=function(t){var e=this.formattingFn(t);"INPUT"===this.el.tagName?this.el.value=e:"text"===this.el.tagName||"tspan"===this.el.tagName?this.el.textContent=e:this.el.innerHTML=e},t.prototype.ensureNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.prototype.validateValue=function(t){var e=Number(t);return this.ensureNumber(e)?e:(this.error="[CountUp] invalid start or end value: "+t,null)},t.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},t}();function L(e){let n;return{c(){n=u("div"),h(n,"display","inline-block"),h(n,"font-variant-numeric","tabular-nums")},m(t,s){r(t,n,s),e[3](n)},p:t,i:t,o:t,d(t){t&&l(n),e[3](null)}}}function M(t,e,n){let s,o,{value:i=0}=e,{multiplier:a=13}=e;return v((()=>{n(4,s=new W(o,i,{separator:"",duration:.5})),s.error?console.error(s.error):s.start()})),t.$$set=t=>{"value"in t&&n(1,i=t.value),"multiplier"in t&&n(2,a=t.multiplier)},t.$$.update=()=>{var e,r;18&t.$$.dirty&&s&&(console.log(Math.trunc(i)),null==i?s.update(0):(s.update(i),e=i,r=Math.trunc(e).toString().length*a,n(0,o.style.width=r+"px",o)))},[o,i,a,function(t){$[t?"unshift":"push"]((()=>{o=t,n(0,o)}))}]}class B extends R{constructor(t){super(),O(this,t,M,L,i,{value:1,multiplier:2})}}var G="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var J,U,z=(function(t){!function(e,n){t.exports?t.exports=n():e.ReconnectingWebSocket=n()}(G,(function(){if("WebSocket"in window)return t.prototype.onopen=function(t){},t.prototype.onclose=function(t){},t.prototype.onconnecting=function(t){},t.prototype.onmessage=function(t){},t.prototype.onerror=function(t){},t.debugAll=!1,t.CONNECTING=WebSocket.CONNECTING,t.OPEN=WebSocket.OPEN,t.CLOSING=WebSocket.CLOSING,t.CLOSED=WebSocket.CLOSED,t;function t(e,n,s){var o={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:2e3,maxReconnectAttempts:null,binaryType:"blob"};for(var i in s||(s={}),o)void 0!==s[i]?this[i]=s[i]:this[i]=o[i];this.url=e,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var a,r=this,l=!1,u=!1,c=document.createElement("div");function d(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}c.addEventListener("open",(function(t){r.onopen(t)})),c.addEventListener("close",(function(t){r.onclose(t)})),c.addEventListener("connecting",(function(t){r.onconnecting(t)})),c.addEventListener("message",(function(t){r.onmessage(t)})),c.addEventListener("error",(function(t){r.onerror(t)})),this.addEventListener=c.addEventListener.bind(c),this.removeEventListener=c.removeEventListener.bind(c),this.dispatchEvent=c.dispatchEvent.bind(c),this.open=function(e){if((a=new WebSocket(r.url,n||[])).binaryType=this.binaryType,e){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else c.dispatchEvent(d("connecting")),this.reconnectAttempts=0;(r.debug||t.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",r.url);var s=a,o=setTimeout((function(){(r.debug||t.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",r.url),u=!0,s.close(),u=!1}),r.timeoutInterval);a.onopen=function(n){clearTimeout(o),(r.debug||t.debugAll)&&console.debug("ReconnectingWebSocket","onopen",r.url),r.protocol=a.protocol,r.readyState=WebSocket.OPEN,r.reconnectAttempts=0;var s=d("open");s.isReconnect=e,e=!1,c.dispatchEvent(s)},a.onclose=function(n){if(clearTimeout(o),a=null,l)r.readyState=WebSocket.CLOSED,c.dispatchEvent(d("close"));else{r.readyState=WebSocket.CONNECTING;var s=d("connecting");s.code=n.code,s.reason=n.reason,s.wasClean=n.wasClean,c.dispatchEvent(s),e||u||((r.debug||t.debugAll)&&console.debug("ReconnectingWebSocket","onclose",r.url),c.dispatchEvent(d("close")));var o=r.reconnectInterval*Math.pow(r.reconnectDecay,r.reconnectAttempts);setTimeout((function(){r.reconnectAttempts++,r.open(!0)}),o>r.maxReconnectInterval?r.maxReconnectInterval:o)}},a.onmessage=function(e){(r.debug||t.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",r.url,e.data);var n=d("message");n.data=e.data,c.dispatchEvent(n)},a.onerror=function(e){(r.debug||t.debugAll)&&console.debug("ReconnectingWebSocket","onerror",r.url,e),c.dispatchEvent(d("error"))}},1==this.automaticOpen&&this.open(!1),this.send=function(e){if(a)return(r.debug||t.debugAll)&&console.debug("ReconnectingWebSocket","send",r.url,e),a.send(e);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(t,e){void 0===t&&(t=1e3),l=!0,a&&a.close(t,e)},this.refresh=function(){a&&a.close()}}}))}(U={path:J,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&U.path)}},U.exports),U.exports);function H(t){let e,n,s,o,i,m,g,v,b,$,V,E,x,y,P,w,S,k,A,j,N,I,O,R,D,W,L,M,G,J,U,z,H,K,Q,X,Y,Z,tt,et,nt,st,ot,it,at,rt,lt,ut,ct,dt,pt,ft=t[0].sliderBreaks+"",ht=t[0].miss+"";return s=new B({props:{value:t[0].ppIfMapEndsNow,multiplier:"25"}}),$=new B({props:{value:t[0].ppIfRestFced,multiplier:"5"}}),M=new B({props:{value:t[0].osu_m90PP}}),H=new B({props:{value:t[0].osu_m95PP}}),Z=new B({props:{value:t[0].osu_m98PP}}),ot=new B({props:{value:t[0].osu_m99PP}}),ut=new B({props:{value:t[0].osu_mSSPP}}),{c(){e=u("div"),n=u("div"),C(s.$$.fragment),o=u("div"),o.textContent="PP",m=d(),g=u("div"),v=u("div"),b=c("FC: "),C($.$$.fragment),E=d(),x=u("div"),y=c("SliderBreaks: "),P=c(ft),w=c("x"),k=d(),A=u("div"),j=c("Miss: "),N=c(ht),I=c("x"),R=d(),D=u("div"),W=u("div"),W.textContent="90%",L=u("div"),C(M.$$.fragment),G=u("div"),G.textContent="pp",J=d(),U=u("div"),U.textContent="95%",z=u("div"),C(H.$$.fragment),K=u("div"),K.textContent="pp",Q=d(),X=u("div"),X.textContent="98%",Y=u("div"),C(Z.$$.fragment),tt=u("div"),tt.textContent="pp",et=d(),nt=u("div"),nt.textContent="99%",st=u("div"),C(ot.$$.fragment),it=u("div"),it.textContent="pp",at=d(),rt=u("div"),rt.textContent="100%",lt=u("div"),C(ut.$$.fragment),ct=u("div"),ct.textContent="pp",p(o,"class","text pptext svelte-2qrjtf"),h(o,"text-shadow","none"),p(n,"class","ppbox svelte-2qrjtf"),h(n,"text-shadow","none"),p(e,"class",i="ppcontainer "+(1!=t[0].status?"":"up")+" svelte-2qrjtf"),p(v,"class",V="textobj "+(t[0].miss>0||t[0].sliderBreaks>0?"nothidden":"hidden")+" svelte-2qrjtf"),p(x,"class",S="textobj "+(t[0].sliderBreaks>0?"nothidden":"hidden")+" svelte-2qrjtf"),p(A,"class",O="textobj "+(t[0].miss>0?"nothidden":"hidden")+" svelte-2qrjtf"),p(g,"class","ppcontainer svelte-2qrjtf"),h(g,"margin-top","30px"),h(g,"display","block"),p(W,"class","accbadge svelte-2qrjtf"),p(G,"class","text pptext svelte-2qrjtf"),p(L,"class","ppbadge svelte-2qrjtf"),p(U,"class","accbadge svelte-2qrjtf"),p(K,"class","text pptext svelte-2qrjtf"),p(z,"class","ppbadge svelte-2qrjtf"),p(X,"class","accbadge svelte-2qrjtf"),p(tt,"class","text pptext svelte-2qrjtf"),p(Y,"class","ppbadge svelte-2qrjtf"),p(nt,"class","accbadge svelte-2qrjtf"),p(it,"class","text pptext svelte-2qrjtf"),p(st,"class","ppbadge svelte-2qrjtf"),p(rt,"class","accbadge svelte-2qrjtf"),p(ct,"class","text pptext svelte-2qrjtf"),p(lt,"class","ppbadge svelte-2qrjtf"),p(D,"class",dt="listening "+(1==t[0].status?"":"hid")+" svelte-2qrjtf")},m(t,i){r(t,e,i),a(e,n),F(s,n,null),a(n,o),r(t,m,i),r(t,g,i),a(g,v),a(v,b),F($,v,null),a(g,E),a(g,x),a(x,y),a(x,P),a(x,w),a(g,k),a(g,A),a(A,j),a(A,N),a(A,I),r(t,R,i),r(t,D,i),a(D,W),a(D,L),F(M,L,null),a(L,G),a(D,J),a(D,U),a(D,z),F(H,z,null),a(z,K),a(D,Q),a(D,X),a(D,Y),F(Z,Y,null),a(Y,tt),a(D,et),a(D,nt),a(D,st),F(ot,st,null),a(st,it),a(D,at),a(D,rt),a(D,lt),F(ut,lt,null),a(lt,ct),pt=!0},p(t,n){const o={};1&n&&(o.value=t[0].ppIfMapEndsNow),s.$set(o),(!pt||1&n&&i!==(i="ppcontainer "+(1!=t[0].status?"":"up")+" svelte-2qrjtf"))&&p(e,"class",i);const a={};1&n&&(a.value=t[0].ppIfRestFced),$.$set(a),(!pt||1&n&&V!==(V="textobj "+(t[0].miss>0||t[0].sliderBreaks>0?"nothidden":"hidden")+" svelte-2qrjtf"))&&p(v,"class",V),(!pt||1&n)&&ft!==(ft=t[0].sliderBreaks+"")&&f(P,ft),(!pt||1&n&&S!==(S="textobj "+(t[0].sliderBreaks>0?"nothidden":"hidden")+" svelte-2qrjtf"))&&p(x,"class",S),(!pt||1&n)&&ht!==(ht=t[0].miss+"")&&f(N,ht),(!pt||1&n&&O!==(O="textobj "+(t[0].miss>0?"nothidden":"hidden")+" svelte-2qrjtf"))&&p(A,"class",O);const r={};1&n&&(r.value=t[0].osu_m90PP),M.$set(r);const l={};1&n&&(l.value=t[0].osu_m95PP),H.$set(l);const u={};1&n&&(u.value=t[0].osu_m98PP),Z.$set(u);const c={};1&n&&(c.value=t[0].osu_m99PP),ot.$set(c);const d={};1&n&&(d.value=t[0].osu_mSSPP),ut.$set(d),(!pt||1&n&&dt!==(dt="listening "+(1==t[0].status?"":"hid")+" svelte-2qrjtf"))&&p(D,"class",dt)},i(t){pt||(_(s.$$.fragment,t),_($.$$.fragment,t),_(M.$$.fragment,t),_(H.$$.fragment,t),_(Z.$$.fragment,t),_(ot.$$.fragment,t),_(ut.$$.fragment,t),pt=!0)},o(t){q(s.$$.fragment,t),q($.$$.fragment,t),q(M.$$.fragment,t),q(H.$$.fragment,t),q(Z.$$.fragment,t),q(ot.$$.fragment,t),q(ut.$$.fragment,t),pt=!1},d(t){t&&l(e),T(s),t&&l(m),t&&l(g),T($),t&&l(R),t&&l(D),T(M),T(H),T(Z),T(ot),T(ut)}}}function K(t){let e,n,o=null!=t[0]&&null!=t[0].osu_m90PP&&H(t);return{c(){e=u("main"),o&&o.c(),p(e,"class","svelte-2qrjtf")},m(t,s){r(t,e,s),o&&o.m(e,null),n=!0},p(t,[n]){null!=t[0]&&null!=t[0].osu_m90PP?o?(o.p(t,n),1&n&&_(o,1)):(o=H(t),o.c(),_(o,1),o.m(e,null)):o&&(N={r:0,c:[],p:N},q(o,1,1,(()=>{o=null})),N.r||s(N.c),N=N.p)},i(t){n||(_(o),n=!0)},o(t){q(o),n=!1},d(t){t&&l(e),o&&o.d()}}}function Q(t,e,n){let s,o;return v((()=>{let t=["miss","sliderBreaks","ppIfMapEndsNow","ppIfRestFced","osu_mSSPP","osu_m99PP","osu_m98PP","osu_m95PP","osu_m90PP","status"];s=new z("ws://localhost:20727/tokens",null,{debug:!0,reconnectInterval:3e3}),s.onopen=function(e){console.log("Connected to websocket."),s.send(JSON.stringify(t))},s.onmessage=function(t){n(0,o=null==o?JSON.parse(t.data):Object.assign(o,JSON.parse(t.data))),null!=o&&1==o.status&&(n(0,o.ppIfMapEndsNow=0,o),n(0,o.ppIfRestFced=0,o),n(0,o.miss=0,o),n(0,o.sliderBreaks=0,o))}})),[o]}return new class extends R{constructor(t){super(),O(this,t,Q,K,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
